<!DOCTYPE html>
<html>
  <head>
    <title>Mouse Position</title>
    <link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">
    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.6.5/build/ol.js"></script>
  </head>
<body>
    <div id="map">
        <div id="mposition"></div>
    </div>
    <script>
        var map=new ol.Map({
            target:"map",
            layer:[],
            view:new ol.View({
                center:[0,0],
                zoom:2
            })
            //control:ol.control.defaults().extend([mousePositionControl])
        })
        var tileLayer=new ol.layer.Tile({
            source:new ol.source.OSM()
        })
        map.addLayer(tileLayer);
        var mousePositionControl=new ol.control.MousePosition({
            coordinateFormat:ol.coordinate.createStringXY(14),
            projection:"EPSG:4326",
            className:"custom-mouse-position",
            target: document.getElementById("mposition"),
            undefinedHTML:"&nbsp"
        });
        map.addControl(mousePositionControl);

		// 鼠标单击
		var selectClick = new ol.interaction.Select({
			condition: ol.events.condition.click
		});

		//鼠标点击地图叠加要素监听函数
		map.addInteraction(selectClick);


		map.on('click', function (evt) {
			//var s = document.getElementById('mposition'); //.innerHTML; //document.getElementById("ss").innerHTML);
			alert(document.getElementById("mposition").textContent);

		});

	</script>
</body>
</html>