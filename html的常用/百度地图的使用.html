<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<title></title>
		<style>
			#baidu-map{
				width: 500px;
				height: 500px;
			}
		</style>
	</head>
	<body>
		   
		<div id="baidu-map"></div>
	    <script type="text/javascript" src="../jquery/jquery.min.js" ></script>
	                
	    <script>
	        //百度地图API功能
			function loadJScript() {
				var script = document.createElement("script");
				script.type = "text/javascript";
				script.src = "http://api.map.baidu.com/api?v=2.0&ak=UCXTKdp9dpdTdvimMx11ZFqpQPagGAp9&callback=init";
				document.body.appendChild(script);
			}
		   	function init() {
				var map = new BMap.Map("baidu-map",{minZoom:8,maxZoom:15}); // 创建Map实例,设置地图允许的最小/大级别);            // 创建Map实例
			    //map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);  // 初始化地图,设置中心点坐标和地图级别
				map.enableScrollWheelZoom();  
				window.map = map; //将map变量存储在全局//启用滚轮放大缩小
				//添加地图类型控件
				map.addControl(new BMap.MapTypeControl({
					// 靠左上角位置
				    anchor: BMAP_ANCHOR_TOP_LEFT,
				    // LARGE类型
				    type: BMAP_NAVIGATION_CONTROL_LARGE,
				    // 启用显示定位
				    enableGeolocation: true,
					mapTypes:[
			            BMAP_NORMAL_MAP,
			            BMAP_HYBRID_MAP
			        ]
				}));
				//map.setCurrentCity("广州");          // 设置地图显示的城市 此项是必须设置的
				map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
				map.centerAndZoom("上海",15);      // 初始化地图,用城市名设置地图中心点
				
				  // 添加定位控件
				  var geolocationControl = new BMap.GeolocationControl();
				  geolocationControl.addEventListener("locationSuccess", function(e){
				    // 定位成功事件
				    var address = '';
				    address += e.addressComponent.province;
				    address += e.addressComponent.city;
				    address += e.addressComponent.district;
				    address += e.addressComponent.street;
				    address += e.addressComponent.streetNumber;
				    alert("当前定位地址为：" + address);
				  });
				  geolocationControl.addEventListener("locationError",function(e){
				    // 定位失败事件
				    alert(e.message);
				  });
				  map.addControl(geolocationControl);
				//map.disableDragging();     //禁止拖拽
				 //两秒后移动到广州
//				setTimeout(function(){
//              	map.enableDragging();   //两秒后开启拖拽
//					map.panTo(new BMap.Point(113.262232,23.154345));  
//                  map.setZoom(14);  //2秒后放大到14级
//				}, 2000);

			}  
			window.onload = loadJScript;  //异步加载地图
		   	
	   
	    </script>
	</body>
</html>
